

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>gateone.py - Gate One&#39;s Main Script &mdash; Gate One 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/ansi.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="top" title="Gate One 1.0 documentation" href="../index.html" />
    <link rel="up" title="Developer Documentation" href="index.html" />
    <link rel="next" title="logviewer.py - Session Log Viewer" href="logviewer.html" />
    <link rel="prev" title="authpam.py - A PAM Authentication Module" href="authpam.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="logviewer.html" title="logviewer.py - Session Log Viewer"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="authpam.html" title="authpam.py - A PAM Authentication Module"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Gate One Documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Developer Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-gateone">
<span id="gateone-py-gate-one-s-main-script"></span><h1><tt class="xref py py-mod docutils literal"><span class="pre">gateone.py</span></tt> - Gate One's Main Script<a class="headerlink" href="#module-gateone" title="Permalink to this headline">¶</a></h1>
<div class="section" id="gate-one">
<span id="gateone-py"></span><h2>Gate One<a class="headerlink" href="#gate-one" title="Permalink to this headline">¶</a></h2>
<p>Gate One is a web-based terminal emulator written in Python using the Tornado
web framework.  This module runs the primary daemon process and acts as a
central controller for all running terminals and terminal programs.  It supports
numerous configuration options and can also be called with the --kill switch
to kill all running terminal programs (if using dtach--otherwise they die on
their own when gateone.py is stopped).</p>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>Gate One requires Python 2.6+ but runs best with Python 2.7+.  It also depends
on the following 3rd party Python modules:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.tornadoweb.org/">Tornado</a> 2.2+ - A non-blocking web server framework that powers FriendFeed.</li>
</ul>
</div></blockquote>
<p>The following modules are optional and can provide Gate One with additional
functionality:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://launchpad.net/pyopenssl">pyOpenSSL</a> 0.10+ - An OpenSSL module/wrapper for Python.  Only used to generate self-signed SSL keys and certificates.  If pyOpenSSL isn't available Gate One will fall back to using the 'openssl' command to generate self-signed certificates.</li>
<li><a class="reference external" href="http://pypi.python.org/pypi/kerberos">kerberos</a> 1.0+ - A high-level Kerberos interface for Python.  Only necessary if you plan to use the Kerberos authentication module.</li>
<li><a class="reference external" href="http://packages.debian.org/lenny/python-pam">python-pam</a> 0.4.2+ - A Python module for interacting with PAM (the Pluggable Authentication Module present on nearly every Unix).  Only necessary if you plan to use PAM authentication.</li>
</ul>
</div></blockquote>
<p>With the exception of python-pam, both the required and optional modules can usually be installed via one of these commands:</p>
<blockquote>
<div><pre class="ansi-block literal-block">
<span class="ansi-bold ansi-blue">user</span>&#64;modern-host<span class="ansi-bold ansi-blue">:~ $</span> sudo pip install tornado pyopenssl kerberos
</pre>
</div></blockquote>
<p>...or:</p>
<blockquote>
<div><pre class="ansi-block literal-block">
<span class="ansi-bold ansi-blue">user</span>&#64;legacy-host<span class="ansi-bold ansi-blue">:~ $</span> sudo easy_install tornado pyopenssl kerberos
</pre>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The use of pip is recommended.  See <a class="reference external" href="http://www.pip-installer.org/en/latest/installing.html">http://www.pip-installer.org/en/latest/installing.html</a> if you don't have it.</p>
</div>
<p>The python-pam module is available in most Linux distribution repositories.  Simply executing one of the following should take care of it:</p>
<blockquote>
<div><pre class="ansi-block literal-block">
<span class="ansi-bold ansi-blue">user</span>&#64;debian-or-ubuntu-host<span class="ansi-bold ansi-blue">:~ $</span> sudo apt-get install python-pam
</pre>
<pre class="ansi-block literal-block">
<span class="ansi-bold ansi-blue">user</span>&#64;redhat-host<span class="ansi-bold ansi-blue">:~ $</span> sudo yum install python-pam
</pre>
<pre class="ansi-block literal-block">
<span class="ansi-bold ansi-blue">user</span>&#64;gentoo-host<span class="ansi-bold ansi-blue">:~ $</span> sudo emerge python-pam
</pre>
<pre class="ansi-block literal-block">
<span class="ansi-bold ansi-blue">user</span>&#64;suse-host<span class="ansi-bold ansi-blue">:~ $</span> sudo yast -i python-pam
</pre>
</div></blockquote>
</div>
<div class="section" id="settings">
<h3>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h3>
<p>All of Gate One's configurable options can be controlled either via command line
switches or by settings in the server.conf file (they match up 1-to-1).  If no
server.conf exists one will be created using defaults (i.e. when Gate One is run
for the first time).  Settings in the server.conf file use the following format:</p>
<div class="highlight-python"><pre>&lt;setting&gt; = &lt;value&gt;</pre>
</div>
<p>Here's an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">address</span> <span class="o">=</span> <span class="s">&quot;127.0.0.1;::1;10.1.1.4&quot;</span> <span class="c"># Strings are surrounded by quotes</span>
<span class="n">port</span> <span class="o">=</span> <span class="mi">443</span> <span class="c"># Numbers don&#39;t need quotes</span>
</pre></div>
</div>
<p>There are a few important differences between the configuration file and
command line switches in regards to boolean values (True/False).  A switch such
as --debug evaluates to &quot;debug = True&quot; and this is exactly how it would be
configured in server.conf:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">debug</span> <span class="o">=</span> <span class="bp">True</span> <span class="c"># Booleans don&#39;t need quotes either</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following values in server.conf are case sensitive: True, False and None (and should not be placed in quotes).</p>
</div>
<p>Running gateone.py with the --help switch will print the usage information as
well as descriptions of what each configurable option does:</p>
<pre class="ansi-block literal-block">
<span class="ansi-bold ansi-red">root</span>&#64;host<span class="ansi-bold ansi-blue">:~ $</span> ./gateone.py --help
Usage: ./gateone.py [OPTIONS]

Options:
&nbsp;&nbsp;--help                           show this help information
&nbsp;&nbsp;--log_file_max_size              max size of log files before rollover
&nbsp;&nbsp;--log_file_num_backups           number of log files to keep
&nbsp;&nbsp;--log_file_prefix=PATH           Path prefix for log files. Note that if you are running multiple tornado processes, log_file_prefix must be different for each of them (e.g. include the port number)
&nbsp;&nbsp;--log_to_stderr                  Send log output to stderr (colorized if possible). By default use stderr if --log_file_prefix is not set and no other logging is configured.
&nbsp;&nbsp;--logging=debug|info|warning|error|none Set the Python log level. If 'none', tornado won't touch the logging configuration.
&nbsp;&nbsp;--address                        Run on the given address.  Default is all addresses (IPv6 included).  Multiple address can be specified using a semicolon as a separator (e.g. '127.0.0.1;::1;10.1.1.100').
&nbsp;&nbsp;--auth                           Authentication method to use.  Valid options are: none, api, google, kerberos, pam
&nbsp;&nbsp;--certificate                    Path to the SSL certificate.  Will be auto-generated if none is provided.
&nbsp;&nbsp;--command                        Run the given command when a user connects (e.g. '/bin/login').
&nbsp;&nbsp;--config                         Path to the config file.  Default: /opt/gateone/server.conf
&nbsp;&nbsp;--cookie_secret                  Use the given 45-character string for cookie encryption.
&nbsp;&nbsp;--debug                          Enable debugging features such as auto-restarting when files are modified.
&nbsp;&nbsp;--disable_ssl                    If enabled, Gate One will run without SSL (generally not a good idea).
&nbsp;&nbsp;--dtach                          Wrap terminals with dtach. Allows sessions to be resumed even if Gate One is stopped and started (which is a sweet feature).
&nbsp;&nbsp;--embedded                       Run Gate One in Embedded Mode (no toolbar, only one terminal allowed, etc.  See docs).
&nbsp;&nbsp;--https_redirect                 If enabled, a separate listener will be started on port 80 that redirects users to the configured port using HTTPS.
&nbsp;&nbsp;--js_init                        A JavaScript object (string) that will be used when running GateOne.init() inside index.html.  Example: --js_init=&quot;{scheme: 'white'}&quot; would result in GateOne.init({scheme: 'white'})
&nbsp;&nbsp;--keyfile                        Path to the SSL keyfile.  Will be auto-generated if none is provided.
&nbsp;&nbsp;--kill                           Kill any running Gate One terminal processes including dtach'd processes.
&nbsp;&nbsp;--locale                         The locale (e.g. pt_PT) Gate One should use for translations.  If not provided, will default to $LANG (which is 'en_US' in your current shell), or en_US if not set.
&nbsp;&nbsp;--new_api_key                    Generate a new API key that an external application can use to embed Gate One.
&nbsp;&nbsp;--origins                        A semicolon-separated list of origins you wish to allow access to your Gate One server over the WebSocket.  This value must contain the hostnames and FQDNs (e.g. https://foo;https://foo.bar;) users will use to connect to your Gate One server as well as the hostnames/FQDNs of any sites that will be embedding Gate One. Here's the default on your system: 'https://localhost;https://yourhostname'. Alternatively, '*' may be  specified to allow access from anywhere.
&nbsp;&nbsp;--pam_realm                      Basic auth REALM to display when authenticating clients.  Default: hostname.  Only relevant if PAM authentication is enabled.
&nbsp;&nbsp;--pam_service                    PAM service to use.  Defaults to 'login'. Only relevant if PAM authentication is enabled.
&nbsp;&nbsp;--pid_file                       Path of the pid file.   Default: /var/run/gateone.pid
&nbsp;&nbsp;--port                           Run on the given port.
&nbsp;&nbsp;--session_dir                    Path to the location where session information will be stored.
&nbsp;&nbsp;--session_logging                If enabled, logs of user sessions will be saved in &lt;user_dir&gt;/&lt;user&gt;/logs.  Default: Enabled
&nbsp;&nbsp;--session_timeout                Amount of time that a session should be kept alive after the client has logged out.  Accepts &lt;num&gt;X where X could be one of s, m, h, or d for seconds, minutes, hours, and days.  Default is '5d' (5 days).
&nbsp;&nbsp;--sso_realm                      Kerberos REALM (aka DOMAIN) to use when authenticating clients. Only relevant if Kerberos authentication is enabled.
&nbsp;&nbsp;--sso_service                    Kerberos service (aka application) to use. Defaults to HTTP. Only relevant if Kerberos authentication is enabled.
&nbsp;&nbsp;--syslog_facility                Syslog facility to use when logging to syslog (if syslog_session_logging is enabled).  Must be one of: auth, cron, daemon, kern, local0, local1, local2, local3, local4, local5, local6, local7, lpr, mail, news, syslog, user, uucp.  Default: daemon
&nbsp;&nbsp;--syslog_host                    Remote host to send syslog messages to if syslog_logging is enabled.  Default: None (log to the local syslog daemon directly).  NOTE:  This setting is required on platforms that don't include Python's syslog module.
&nbsp;&nbsp;--syslog_session_logging         If enabled, logs of user sessions will be written to syslog.
&nbsp;&nbsp;--url_prefix                     An optional prefix to place before all Gate One URLs. e.g. '/gateone/'.  Use this if Gate One will be running behind a reverse proxy where you want it to be located at some sub-URL path.
&nbsp;&nbsp;--user_dir                       Path to the location where user files will be stored.
</pre>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some of these options (e.g. log_file_prefix) are inherent to the Tornado framework.  You won't find them anywhere in gateone.py.</p>
</div>
</div>
<div class="section" id="file-paths">
<h3>File Paths<a class="headerlink" href="#file-paths" title="Permalink to this headline">¶</a></h3>
<p>Gate One stores its files, temporary session information, and persistent user
data in the following locations (Note: Many of these are configurable):</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">File/Directory</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>authpam.py</td>
<td>Contains the PAM authentication Mixin used by auth.py.</td>
</tr>
<tr class="row-odd"><td>auth.py</td>
<td>Authentication classes.</td>
</tr>
<tr class="row-even"><td>certificate.pem</td>
<td>The default certificate Gate One will use in SSL communications.</td>
</tr>
<tr class="row-odd"><td>docs/</td>
<td>Gate One's documentation.</td>
</tr>
<tr class="row-even"><td>gateone.py</td>
<td>Gate One's primary executable/script. Also, the file containing this documentation</td>
</tr>
<tr class="row-odd"><td>i18n/</td>
<td>Gate One's internationalization (i18n) support and locale/translation files.</td>
</tr>
<tr class="row-even"><td>keyfile.pem</td>
<td>The default private key used with SSL communications.</td>
</tr>
<tr class="row-odd"><td>logviewer.py</td>
<td>A utility to view Gate One session logs.</td>
</tr>
<tr class="row-even"><td>plugins/</td>
<td>Plugins go here in the form of ./plugins/&lt;plugin name&gt;/&lt;plugin files|directories&gt;</td>
</tr>
<tr class="row-odd"><td>remote_syslog.py</td>
<td>A module that supports sending syslog messages over UDP to a remote syslog host.</td>
</tr>
<tr class="row-even"><td>server.conf</td>
<td>Gate One's configuration file.</td>
</tr>
<tr class="row-odd"><td>sso.py</td>
<td>A Kerberos Single Sign-on module for Tornado (used by auth.py)</td>
</tr>
<tr class="row-even"><td>static/</td>
<td>Non-dynamic files that get served to clients (e.g. gateone.js, gateone.css, etc).</td>
</tr>
<tr class="row-odd"><td>templates/</td>
<td>Tornado template files such as index.html.</td>
</tr>
<tr class="row-even"><td>terminal.py</td>
<td>A Pure Python terminal emulator module.</td>
</tr>
<tr class="row-odd"><td>termio.py</td>
<td>Terminal input/output control module.</td>
</tr>
<tr class="row-even"><td>tests/</td>
<td>Various scripts and tools to test Gate One's functionality.</td>
</tr>
<tr class="row-odd"><td>utils.py</td>
<td>Various supporting functions.</td>
</tr>
<tr class="row-even"><td>users/</td>
<td>Persistent user data in the form of ./users/&lt;username&gt;/&lt;user-specific files&gt;</td>
</tr>
<tr class="row-odd"><td>users/&lt;user&gt;/logs</td>
<td>This is where session logs get stored if session_logging is set.</td>
</tr>
<tr class="row-even"><td>/tmp/gateone</td>
<td>Temporary session data in the form of /tmp/gateone/&lt;session ID&gt;/&lt;files&gt;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="running">
<h3>Running<a class="headerlink" href="#running" title="Permalink to this headline">¶</a></h3>
<p>Executing Gate One is as simple as:</p>
<pre class="ansi-block literal-block">
<span class="ansi-bold ansi-red">root</span>&#64;host<span class="ansi-bold ansi-blue">:~ $</span> ./gateone.py
</pre>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default Gate One will run on port 443 which requires root on most systems.  Use <tt class="xref py py-obj docutils literal"><span class="pre">--port=(something</span> <span class="pre">higher</span> <span class="pre">than</span> <span class="pre">1024)</span></tt> for non-root users.</p>
</div>
</div>
<div class="section" id="plugins">
<h3>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h3>
<p>Gate One includes support for any combination of the following types of plugins:</p>
<blockquote>
<div><ul class="simple">
<li>Python</li>
<li>JavaScript</li>
<li>CSS</li>
</ul>
</div></blockquote>
<p>Python plugins can integrate with Gate One in three ways:</p>
<blockquote>
<div><ul class="simple">
<li>Adding or overriding tornado.web.RequestHandlers (with a given regex).</li>
<li>Adding or overriding methods (aka &quot;commands&quot;) in TerminalWebSocket.</li>
<li>Adding special plugin-specific escape sequence handlers (see the plugin development documentation for details on what/how these are/work).</li>
</ul>
</div></blockquote>
<p>JavaScript plugins will be added to the &lt;body&gt; tag of Gate One's base index.html
template by way of a single file (<tt class="xref py py-obj docutils literal"><span class="pre">{{gateone_js}}</span></tt> below) that is the
concatenation of all plugins' JS templates:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;{{gateone_js}}&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
</div>
<p>CSS plugins are similar to JavaScript but instead of being appended to the
&lt;body&gt; they are added to the &lt;head&gt; by way of a WebSocket download and some
fancy JavaScript inside of gateone.js:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">CSSPluginAction</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Loads the CSS for a given plugin by adding a &lt;link&gt; tag to the &lt;head&gt;</span>
    <span class="kd">var</span> <span class="nx">queries</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">),</span> <span class="c1">// So we can parse out the plugin name and the template</span>
        <span class="nx">plugin</span> <span class="o">=</span> <span class="nx">queries</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
        <span class="nx">file</span> <span class="o">=</span> <span class="nx">queries</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="c1">// The /cssrender method needs the prefix and the container</span>
    <span class="nx">url</span> <span class="o">=</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;&amp;container=&#39;</span> <span class="o">+</span> <span class="nx">GateOne</span><span class="p">.</span><span class="nx">prefs</span><span class="p">.</span><span class="nx">goDiv</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="nx">url</span> <span class="o">=</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">&#39;&amp;prefix=&#39;</span> <span class="o">+</span> <span class="nx">GateOne</span><span class="p">.</span><span class="nx">prefs</span><span class="p">.</span><span class="nx">prefix</span><span class="p">;</span>
    <span class="nx">url</span> <span class="o">=</span> <span class="nx">GateOne</span><span class="p">.</span><span class="nx">prefs</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="nx">url</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="nx">GateOne</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">loadCSS</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">plugin</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nx">file</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There are also hooks throughout Gate One's code for plugins to add or override
Gate One's functionality.  Documentation on how to write plugins can be found in
the Plugin Development docs.  From the perspective of gateone.py, it performs
the following tasks in relation to plugins:</p>
<blockquote>
<div><ul class="simple">
<li>Imports Python plugins and connects their hooks.</li>
<li>Creates symbolic links inside ./static/ that point to each plugin's respective /static/ directory and serves them to clients.</li>
<li>Serves the index.html that includes plugins' respective .js and .css files.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="class-docstrings">
<h2>Class Docstrings<a class="headerlink" href="#class-docstrings" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="gateone._">
<tt class="descclassname">gateone.</tt><tt class="descname">_</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#_"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone._" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps user_locale.translate so we can .encode('UTF-8') when writing to
stdout.  This function will get overridden by the regular translate()
function in __main__</p>
</dd></dl>

<dl class="function">
<dt id="gateone.require_auth">
<tt class="descclassname">gateone.</tt><tt class="descname">require_auth</tt><big>(</big><em>method</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#require_auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.require_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>An equivalent to tornado.web.authenticated for WebSockets
(TerminalWebSocket, specifically).</p>
</dd></dl>

<dl class="function">
<dt id="gateone.kill_session">
<tt class="descclassname">gateone.</tt><tt class="descname">kill_session</tt><big>(</big><em>session</em>, <em>kill_dtach=False</em><big>)</big><a class="headerlink" href="#gateone.kill_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminates all the processes associated with <em>session</em> and then removes
<em>session</em> from the global SESSIONS dict.  If <em>kill_dtach</em> is True, will
also call kill_dtached_proc() on the terminal processes.</p>
</dd></dl>

<dl class="function">
<dt id="gateone.kill_all_sessions">
<tt class="descclassname">gateone.</tt><tt class="descname">kill_all_sessions</tt><big>(</big><em>kill_dtach=False</em><big>)</big><a class="headerlink" href="#gateone.kill_all_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls kill_session() on all sessions in the SESSIONS dict.</p>
</dd></dl>

<dl class="function">
<dt id="gateone.timeout_sessions">
<tt class="descclassname">gateone.</tt><tt class="descname">timeout_sessions</tt><big>(</big><em>kill_dtach=False</em><big>)</big><a class="headerlink" href="#gateone.timeout_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Loops over the SESSIONS dict killing any sessions that haven't been used
for the length of time specified in <em>TIMEOUT</em> (global).  The value of
<em>TIMEOUT</em> can be set in server.conf or specified on the command line via the
<em>session_timeout</em> value.  Arguments:</p>
<blockquote>
<div><ul class="simple">
<li><em>kill_dtach</em> - If True, will call kill_dtached_proc() on each terminal to ensure it dies.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is meant to be called via Tornado's ioloop.PeriodicCallback().</p>
</div>
</dd></dl>

<dl class="function">
<dt id="gateone.cleanup_session_logs">
<tt class="descclassname">gateone.</tt><tt class="descname">cleanup_session_logs</tt><big>(</big><em>users_dir</em>, <em>max_age</em><big>)</big><a class="headerlink" href="#gateone.cleanup_session_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up all user's session logs older than <em>max_age</em> (timedelta) given the
<em>users_dir</em> (string).  The session log directory is assumed to be:</p>
<blockquote>
<div><em>users_dir</em>/&lt;user&gt;/logs</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="gateone.HTTPSRedirectHandler">
<em class="property">class </em><tt class="descclassname">gateone.</tt><tt class="descname">HTTPSRedirectHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#HTTPSRedirectHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.HTTPSRedirectHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A handler to redirect clients from HTTP to HTTPS.</p>
<dl class="method">
<dt id="gateone.HTTPSRedirectHandler.get">
<tt class="descname">get</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/gateone.html#HTTPSRedirectHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.HTTPSRedirectHandler.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Just redirects the client from HTTP to HTTPS</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gateone.BaseHandler">
<em class="property">class </em><tt class="descclassname">gateone.</tt><tt class="descname">BaseHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#BaseHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.BaseHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A base handler that all Gate One RequestHandlers will inherit methods from.</p>
<dl class="method">
<dt id="gateone.BaseHandler.get_current_user">
<tt class="descname">get_current_user</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/gateone.html#BaseHandler.get_current_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.BaseHandler.get_current_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Tornado standard method--implemented our way.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gateone.MainHandler">
<em class="property">class </em><tt class="descclassname">gateone.</tt><tt class="descname">MainHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#MainHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.MainHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders index.html which loads Gate One.</p>
<p>Will include the minified version of gateone.js if available as
gateone.min.js.</p>
<p>Will encode GATEONE_DIR/static/bell.ogg as a <a class="reference external" href="data:URI">data:URI</a> and put it as the
&lt;source&gt; of the &lt;audio&gt; tag inside the index.html template.  Gate One
administrators can replace bell.ogg with whatever they like but the file
size should be less than 32k when encoded to Base64.</p>
</dd></dl>

<dl class="class">
<dt id="gateone.PluginCSSTemplateHandler">
<em class="property">class </em><tt class="descclassname">gateone.</tt><tt class="descname">PluginCSSTemplateHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#PluginCSSTemplateHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.PluginCSSTemplateHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders plugin CSS template files, passing them the same <em>prefix</em> and
<em>container</em> variables used by the StyleHandler.  This is so we don't need a
CSS template rendering function in every plugin that needs to use {{prefix}}
or {{container}}.</p>
<p>gateone.js will automatically load all *.css files in plugin template
directories using this method.</p>
</dd></dl>

<dl class="class">
<dt id="gateone.JSPluginsHandler">
<em class="property">class </em><tt class="descclassname">gateone.</tt><tt class="descname">JSPluginsHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#JSPluginsHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.JSPluginsHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines all JavaScript plugins into a single file to keep things simple and
speedy.</p>
<dl class="method">
<dt id="gateone.JSPluginsHandler._combine_plugins">
<tt class="descname">_combine_plugins</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/gateone.html#JSPluginsHandler._combine_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.JSPluginsHandler._combine_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines all plugin .js files into one (combined_plugins.js)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gateone.TerminalWebSocket">
<em class="property">class </em><tt class="descclassname">gateone.</tt><tt class="descname">TerminalWebSocket</tt><big>(</big><em>application</em>, <em>request</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket" title="Permalink to this definition">¶</a></dt>
<dd><p>The main WebSocket interface for Gate One, this class is setup to call
'commands' which are methods registered in self.commands.  Methods that are
registered this way will be exposed and directly callable over the
WebSocket.</p>
<dl class="method">
<dt id="gateone.TerminalWebSocket.allow_draft76">
<tt class="descname">allow_draft76</tt><big>(</big><big>)</big><a class="headerlink" href="#gateone.TerminalWebSocket.allow_draft76" title="Permalink to this definition">¶</a></dt>
<dd><p>By overriding this function we're allowing the older version of the
WebSockets protocol.  As long as communications happens over SSL there
shouldn't be any security concerns with this.  This is mostly to support
iOS Safari.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.get_current_user">
<tt class="descname">get_current_user</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.get_current_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.get_current_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Mostly identical to the function of the same name in MainHandler.  The
difference being that when API authentication is enabled the WebSocket
will expect and perform its own auth of the client.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.open">
<tt class="descname">open</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a new WebSocket is opened.  Will deny access to any
origin that is not defined in self.settings['origin'].</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.on_message">
<tt class="descname">on_message</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.on_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when we receive a message from the client.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.on_close">
<tt class="descname">on_close</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.on_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.on_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when the client terminates the connection.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Normally self.refresh_screen() catches the disconnect first and this method won't end up being called.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.pong">
<tt class="descname">pong</tt><big>(</big><em>timestamp</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.pong"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.pong" title="Permalink to this definition">¶</a></dt>
<dd><p>Responds to a client 'ping' request...  Just returns the given
timestamp back to the client so it can measure round-trip time.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.authenticate">
<tt class="descname">authenticate</tt><big>(</big><em>settings</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticates the client by first trying to use the 'gateone_user'
cookie or if Gate One is configured to use API authentication it will
use <em>settings['auth']</em>.  Additionally, it will accept
<em>settings['container']</em> and <em>settings['prefix']</em> to apply those to the
equivalent properties (self.container and self.prefix).</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.new_multiplex">
<tt class="descname">new_multiplex</tt><big>(</big><em>cmd</em>, <em>term_id</em>, <em>logging=True</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.new_multiplex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.new_multiplex" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new instance of <a class="reference internal" href="termio.html#termio.Multiplex" title="termio.Multiplex"><tt class="xref py py-class docutils literal"><span class="pre">termio.Multiplex</span></tt></a> with the proper global and
client-specific settings.</p>
<blockquote>
<div><ul class="simple">
<li><em>cmd</em> - The command to execute inside of Multiplex.</li>
<li><em>term_id</em> - The terminal to associate with this Multiplex or a descriptive identifier (it's only used for logging purposes).</li>
<li><em>logging</em> - If False, logging will be disabled for this instance of Multiplex (even if it would otherwise be enabled).</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.term_ended">
<tt class="descname">term_ended</tt><big>(</big><em>term</em><big>)</big><a class="headerlink" href="#gateone.TerminalWebSocket.term_ended" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the 'term_ended' message to the client letting it know that the
given <em>term</em> is no more.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.new_terminal">
<tt class="descname">new_terminal</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.new_terminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.new_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts up a new terminal associated with the user's session using
<em>settings</em> as the parameters.  If a terminal already exists with the
same number as <em>settings[term]</em>, self.set_terminal() will be called
instead of starting a new terminal (so clients can resume their session
without having to worry about figuring out if a new terminal already
exists or not).</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.kill_terminal">
<tt class="descname">kill_terminal</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.kill_terminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.kill_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills <em>term</em> and any associated processes.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.set_terminal">
<tt class="descname">set_terminal</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.set_terminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.set_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets <tt class="xref py py-obj docutils literal"><span class="pre">self.current_term</span> <span class="pre">=</span> <span class="pre">*term*</span></tt> so we can determine where to send
keystrokes.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.reset_terminal">
<tt class="descname">reset_terminal</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.reset_terminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.reset_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells the client to reset the terminal (clear the screen and remove
scrollback).</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.set_title">
<tt class="descname">set_title</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.set_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.set_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a message to the client telling it to set the window title of
<em>term</em> to whatever comes out of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">SESSIONS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="p">][</span><span class="n">term</span><span class="p">][</span><span class="s">&#39;multiplex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">get_title</span><span class="p">()</span> <span class="c">#(Whew! Say that three times fast!).</span>
</pre></div>
</div>
<p>Example message:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;set_title&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;term&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&quot;user@host&quot;</span><span class="p">}}</span>
</pre></div>
</div>
<p>If <em>force</em> resolves to True the title will be sent to the cleint even if
it matches the previously-set title.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Why the complexity on something as simple as setting the title?  Many prompts set the title.  This means we'd be sending a 'title' message to the client with nearly every screen update which is a pointless waste of bandwidth if the title hasn't changed.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.bell">
<tt class="descname">bell</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.bell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.bell" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a message to the client indicating that a bell was encountered in
the given terminal (<em>term</em>).  Example message:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;bell&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;term&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.mode_handler">
<tt class="descname">mode_handler</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.mode_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.mode_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles mode settings that require an action on the client by pasing it
a message like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&#39;set_mode&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="n">setting</span><span class="p">,</span>
        <span class="s">&#39;bool&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="s">&#39;term&#39;</span><span class="p">:</span> <span class="n">term</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.dsr">
<tt class="descname">dsr</tt><big>(</big><em>term</em>, <em>response</em><big>)</big><a class="headerlink" href="#gateone.TerminalWebSocket.dsr" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles Device Status Report (DSR) calls from the underlying program
that get caught by the terminal emulator.  <em>response</em> is what the
terminal emulator returns from the CALLBACK_DSR callback.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This also handles the CSI DSR sequence.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket._send_refresh">
<tt class="descname">_send_refresh</tt><big>(</big><em>term</em>, <em>full=False</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket._send_refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket._send_refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a screen update to the client.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.refresh_screen">
<tt class="descname">refresh_screen</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.refresh_screen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.refresh_screen" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the state of the given terminal's screen and scrollback buffer to
the client using <a class="reference internal" href="#gateone.TerminalWebSocket._send_refresh" title="gateone.TerminalWebSocket._send_refresh"><tt class="xref py py-obj docutils literal"><span class="pre">_send_refresh()</span></tt></a>.  Also ensures that screen updates
don't get sent too fast to the client by instituting a rate limiter that
also forces a refresh every 150ms.  This keeps things smooth on the
client side and also reduces the bandwidth used by the application (CPU
too).</p>
<p>If <em>full</em>, send the whole screen (not just the difference).</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.full_refresh">
<tt class="descname">full_refresh</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.full_refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.full_refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <tt class="xref py py-obj docutils literal"><span class="pre">self.refresh_screen(*term*,</span> <span class="pre">full=True)</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.resize">
<tt class="descname">resize</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.resize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.resize" title="Permalink to this definition">¶</a></dt>
<dd><p>Resize the terminal window to the rows/cols specified in <em>resize_obj</em></p>
<p>Example <em>resize_obj</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;rows&#39;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span> <span class="s">&#39;cols&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.char_handler">
<tt class="descname">char_handler</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.char_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.char_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes <em>chars</em> (string) to <em>term</em>.  If <em>term</em> is not provided the
characters will be sent to the currently-selected terminal.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.write_chars">
<tt class="descname">write_chars</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#gateone.TerminalWebSocket.write_chars" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes <em>message['chars']</em> to <em>message['term']</em>.  If <em>message['term']</em>
is not present, <em>self.current_term</em> will be used.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.esc_opt_handler">
<tt class="descname">esc_opt_handler</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.esc_opt_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.esc_opt_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes whatever function is registered matching the tuple returned by
process_opt_esc_sequence().</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.get_bell">
<tt class="descname">get_bell</tt><big>(</big><big>)</big><a class="headerlink" href="#gateone.TerminalWebSocket.get_bell" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the bell sound data to the client in in the form of a <a class="reference external" href="data::URI">data::URI</a>.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.get_webworker">
<tt class="descname">get_webworker</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.get_webworker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.get_webworker" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the text of our go_process.js to the client in order to get around
the limitations of loading remote Web Worker URLs (for embedding Gate
One into other apps).</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.get_style">
<tt class="descname">get_style</tt><big>(</big><em>settings</em><big>)</big><a class="headerlink" href="#gateone.TerminalWebSocket.get_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the CSS stylesheets matching the properties specified in
<em>settings</em> to the client.  <em>settings</em> must contain the following:</p>
<blockquote>
<div><ul class="simple">
<li><strong>container</strong> - The element Gate One resides in (e.g. 'gateone')</li>
<li><strong>prefix</strong> - The string being used to prefix all elements (e.g. 'go_')</li>
</ul>
</div></blockquote>
<p><em>settings</em> may also contain any combination of the following:</p>
<blockquote>
<div><ul class="simple">
<li><strong>theme</strong> - The name of the CSS theme to be retrieved.</li>
<li><strong>colors</strong> - The name of the text color CSS scheme to be retrieved.</li>
<li><strong>plugins</strong> - If true, will send all plugin .css files to the client.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.enumerate_themes">
<tt class="descname">enumerate_themes</tt><big>(</big><big>)</big><a class="headerlink" href="#gateone.TerminalWebSocket.enumerate_themes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a JSON-encoded object containing the installed themes and text
color schemes.</p>
</dd></dl>

<dl class="method">
<dt id="gateone.TerminalWebSocket.debug_terminal">
<tt class="descname">debug_terminal</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/gateone.html#TerminalWebSocket.debug_terminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gateone.TerminalWebSocket.debug_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the terminal's screen and renditions to stdout so they can be
examined more closely.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Can only be called from a JavaScript console like so...</p>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GateOne</span><span class="p">.</span><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="s1">&#39;debug_terminal&#39;</span><span class="o">:</span> <span class="o">*</span><span class="nx">term</span><span class="o">*</span><span class="p">}));</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gateone.ErrorHandler">
<em class="property">class </em><tt class="descclassname">gateone.</tt><tt class="descname">ErrorHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>status_code</em><big>)</big><a class="headerlink" href="#gateone.ErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates an error response with status_code for all requests.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ls_logo_1inch_300dpi.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">gateone.py</span></tt> - Gate One's Main Script</a><ul>
<li><a class="reference internal" href="#gate-one">Gate One</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#file-paths">File Paths</a></li>
<li><a class="reference internal" href="#running">Running</a></li>
<li><a class="reference internal" href="#plugins">Plugins</a></li>
</ul>
</li>
<li><a class="reference internal" href="#class-docstrings">Class Docstrings</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="authpam.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">authpam.py</span></tt> - A PAM Authentication Module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="logviewer.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">logviewer.py</span></tt> - Session Log Viewer</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/Developer/gateone.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="logviewer.html" title="logviewer.py - Session Log Viewer"
             >next</a> |</li>
        <li class="right" >
          <a href="authpam.html" title="authpam.py - A PAM Authentication Module"
             >previous</a> |</li>
        <li><a href="../index.html">Gate One Documentation</a> &raquo;</li>
          <li><a href="index.html" >Developer Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Liftoff Software Corporation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>